<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      #contents > section {
        min-height: 90vh;
      }
      #section1 {
        background-image: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
      }
      #section2 {
        background-image: linear-gradient(120deg, #a6c0fe 0%, #f68084 100%);
      }
      #section3 {
        background-image: linear-gradient(to top, #ebbba7 0%, #cfc7f8 100%);
      }
      #section4 {
        background-image: linear-gradient(to top, #a8edea 0%, #fed6e3 100%);
      }
      #section5 {
        background-image: linear-gradient(to top, #ebc0fd 0%, #d9ded8 100%);
      }
      #section6 {
        background-image: linear-gradient(to top, #feada6 0%, #f5efef 100%);
      }
      .square {
        width: 200px;
        height: 200px;
        background-image: linear-gradient(to top, #f3e7e9 0%, #e3eeff 99%, #e3eeff 100%);
      }
      .square.red {
        background-image: linear-gradient(-20deg, #f794a4 0%, #fdd6bd 100%);
      }

      .panel {
        height: 100vh;
        background-color: beige;
      }
      .box {
        width: 100px;
        height: 100px;
        background-color: burlywood;
      }
      .box-red {
        background-color: brown;
      }

      nav {
        position: sticky;
        top: 0;
        transition: all 600ms ease-in-out;
        background-color: tan;
        color: whitesmoke;
        text-align: center;
      }
      li {
        padding: 20px;
        display: inline-block;
      }
      .not-active {
        background: #fff;
        color: #6a11cb;
      }
    </style>
  </head>
  <body>
    <nav>
      <ul>
        <li>about</li>
        <li>work</li>
        <li>contact</li>
      </ul>
    </nav>

    <div class="panel">
      Creates a new standalone ScrollTrigger instance. You don't need to put ScrollTriggers directly into animations (though that's probably the most common use case). With a standalone ScrollTrigger,
      you can tap into the rich callback system to do almost anything.
    </div>
    <!-- <div class="box"></div>
    <div class="panel"></div> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <script>
      // gsap 3버전 사용
      gsap.registerPlugin(ScrollTrigger);

      ScrollTrigger.create({
        trigger: ".panel",
        start: "top 6%",
        markers: true,
        toggleClass: { targets: "nav", className: "not-active" },
        onEnter: () => console.log("onEnter"),
        onLeave: () => console.log("onLeave"),
        onEnterBack: () => console.log("onEnterBack"),
        onLeaveBack: () => console.log("onLeaveBack"),
      });

      // 타임라인
      // const tl = gsap.timeline({
      //   scrollTrigger: {
      //     trigger: ".square",
      //     markers: true,
      //     start: "top 80%",
      //     end: "top 30%",
      //     scrub: 1
      //   }
      // })
      //   tl.to(".square", { x: 1000, duration: 2, skewY: 1, rotation: 100, })
      //     .to(".square", { y: 500, duration: 2, borderRadius: 100, skewY: 3, rotation: 0, })
      //     .to(".square", { x: 0, duration: 2, width: 400, skewY: 1, rotation: 300,})
      //     .to(".square", { y: 0, duration: 2, rotation: 0, width: 200, borderRadius: 0,});

      // gsap.to(".square", { x: 1000, duration: 2, skewY: 1, rotation: 100, });
      // gsap.to(".square", { y: 500, duration: 2, delay: 2, borderRadius: 100, skewY: 3, rotation: 0, });
      // gsap.to(".square", { x: 0, duration: 2, delay: 4, width: 400, skewY: 1, rotation: 300,);
      // gsap.to(".square", { y: 0, duration: 2, rotation: 0, delay: 6, width: 200, borderRadius: 0,);

      // const tl = gsap.timeline({ repeat: 2, yoyo: true });
      //   tl.to(
      //     ".square",
      //     {
      //       x: 1000,
      //       duration: 2,
      //       skewY: 1,
      //       rotation: 100,
      //     }
      //     //delay
      //     // "+=5"
      //   )
      //     .to(".square", {
      //       y: 500,
      //       duration: 2,
      //       borderRadius: 100,
      //       skewY: 3,
      //       rotation: 0,
      //       ease: "elastic",
      //     })
      //     .to(".square", {
      //       x: 0,
      //       duration: 2,
      //       width: 400,
      //       skewY: 1,
      //       rotation: 300,
      //       ease: "elastic",
      //     })
      //     .to(".square", {
      //       y: 0,
      //       duration: 2,
      //       rotation: 0,
      //       width: 200,
      //       borderRadius: 0,
      //       ease: "elastic",
      //     });

      // gsap.to(".square", {
      //   scrollTrigger: {
      //     trigger: ".square",
      //     start: "top 70%",
      //     end: "top 30%",
      //     markers: {
      //       startColor: "red",
      //       endColor: "blue",
      //       fontSize: "30px",
      //     },
      //     toggleClass: "red",
      //     toggleActions: "restart none none none",
      //     pin: true,
      //     pinSpacing: false,
      //   },
      // });

      // 요소 높이 구하기 end: () => `+=${document.querySelector(".square").offsetHeight}`
      // markers: true,
      // toggleAction: onEnter onLeave onEnterBack onLeaveBack
      // play, pause, resume, reset, restart, complete, reverse, none

      // 부드럽게 움직이기
      // scrub: true 또는 숫자

      // pin: true, - 고정
      // pinSpacing: false,
    </script>
  </body>
</html>
